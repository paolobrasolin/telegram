module Telegram
  module API
    module Bot
      module Types
{%- for line in type.description %}
        # {{ line }}
        #
{%- endfor %}
        class {{ type.name }}{% if type.parent %} < {{ type.parent }}{% endif %}
{%- unless type.fields == empty %}
{%- for field in type.fields %}
          # {{ field.description }}
          #
          # @return [{{ field.type }}]
          attr_accessor :{{ field.name }}
{% endfor %}
          def initialize(
{%- for field in type.fields %}
            {{ field.name }}:
              {%- if field.optional %} nil{% endif -%}
              {%- unless field == type.fields.last %},{% endunless %}
{%- endfor %}
          )
{%- for field in type.fields %}
            @{{ field.name }} = {{ field.name }}
{%- endfor %}
          end
{%- endunless %}
        end
      end
    end
  end
end
