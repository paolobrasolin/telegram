module Telegram
  module API
    module Bot
      module Types
{%- for line in type.description %}
        # {{ line }}
        #
{%- endfor %}
{%- for field in type.fields %}
        # @!attribute [rw] {{ field.name }}
        #   @return [{{ field.type }}] {{ field.description }}
{%- endfor %}
        {{ type.name }} = Struct.new(
            {%- for field in type.fields -%}
              :{{- field.name -}}
              {%- unless field == type.fields.last %}, {% endunless -%}
            {%- endfor -%}
        ) do
          def initialize(
            {%- for field in type.fields -%}
              {{- field.name -}}:
                {%- if field.optional %} nil{% endif -%}
                {%- unless field == type.fields.last %}, {% endunless -%}
            {%- endfor -%}
          )
            super(
              {%- for field in type.fields -%}
                {{- field.name -}}
                {%- unless field == type.fields.last %}, {% endunless -%}
              {%- endfor -%}
            )
          end
        end
      end
    end
  end
end
